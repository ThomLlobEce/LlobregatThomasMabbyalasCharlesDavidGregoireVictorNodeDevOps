{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import NavBar from'./NavBar';import{Link}from'react-router-dom';import axios from'axios';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={readyToRender:false,logged:false};_this.content=function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(axios.get('/api/isAuth?email='+_this.props.user.email).then(function(res){if(res.data.message===true){_this.setState({readyToRender:true,logged:true});}else{_this.setState({readyToRender:true});}}).catch(function(error){_this.setState({readyToRender:true});console.log(error);}));case 2:case\"end\":return _context.stop();}}});};return _this;}_createClass(App,[{key:\"render\",value:function render(){this.content();return React.createElement(\"div\",null,React.createElement(\"div\",{style:styles.inscription},this.state.readyToRender?this.state.logged?React.createElement(\"div\",null,React.createElement(NavBar,{logged:true,disconnect:this.props.disconnect}),React.createElement(\"h1\",{style:styles.back_button},\"You are logged in. \")):React.createElement(\"div\",null,React.createElement(NavBar,{logged:false}),React.createElement(\"div\",{style:styles.inscription},React.createElement(\"h1\",{style:styles.back_button},\"You are not logged in. \",React.createElement(Link,{to:'/signin',style:{color:'blue'}},\"Please sign in\"),\" or \",React.createElement(Link,{to:\"/\",style:{color:'blue'}},\"create an account\")))):null));}}]);return App;}(Component);export default App;var styles={inscription:{width:'100%',height:'110vh',display:'flex',backgroundImage:\"url(http://www.corentin-bechet.com/wp-content/uploads/2015/01/RESULTAT-PARTICLES-BACKGROUND-BLENDER.jpg)\",backgroundPosition:'center',backgroundSize:'cover',backgroundRepeat:'no-repeat',zIndex:1},back_button:{position:'absolute',width:300,height:50,left:'50%',top:'45%',border:'none',padding:6,borderRadius:8,background:'#109177',font:'bold 13px Arial',color:'#fff',transform:\"translate(-50%, -50%)\"}};","map":{"version":3,"sources":["/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/src/Components/Account.js"],"names":["React","Component","NavBar","Link","axios","App","state","readyToRender","logged","content","get","props","user","email","then","res","data","message","setState","catch","error","console","log","styles","inscription","disconnect","back_button","color","width","height","display","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","zIndex","position","left","top","border","padding","borderRadius","background","font","transform"],"mappings":"yhCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,G,mXAEFC,K,CAAQ,CACJC,aAAa,CAAE,KADX,CAEJC,MAAM,CAAE,KAFJ,C,OAKRC,O,CAAU,qLACAL,KAAK,CAACM,GAAN,CACF,qBAAqB,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,KADnC,EAGLC,IAHK,CAGC,SAACC,GAAD,CAAS,CACZ,GAAGA,GAAG,CAACC,IAAJ,CAASC,OAAT,GAAqB,IAAxB,CAA6B,CACzB,MAAKC,QAAL,CAAc,CAACX,aAAa,CAAE,IAAhB,CAAsBC,MAAM,CAAE,IAA9B,CAAd,EACH,CAFD,IAGI,CAEA,MAAKU,QAAL,CAAc,CAACX,aAAa,CAAE,IAAhB,CAAd,EACH,CACJ,CAXK,EAYLY,KAZK,CAYC,SAAAC,KAAK,CAAI,CACZ,MAAKF,QAAL,CAAc,CAACX,aAAa,CAAE,IAAhB,CAAd,EACAc,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CAfK,CADA,gD,sEAoBV,CACI,KAAKX,OAAL,GACA,MACI,gCACI,2BAAK,KAAK,CAAEc,MAAM,CAACC,WAAnB,EAEQ,KAAKlB,KAAL,CAAWC,aAAX,CACA,KAAKD,KAAL,CAAWE,MAAX,CACI,+BACI,oBAAC,MAAD,EAAQ,MAAM,CAAE,IAAhB,CAAsB,UAAU,CAAE,KAAKG,KAAL,CAAWc,UAA7C,EADJ,CAEI,0BAAI,KAAK,CAAEF,MAAM,CAACG,WAAlB,wBAFJ,CADJ,CAMI,+BACI,oBAAC,MAAD,EAAQ,MAAM,CAAE,KAAhB,EADJ,CAEI,2BAAK,KAAK,CAAEH,MAAM,CAACC,WAAnB,EACI,0BAAI,KAAK,CAAED,MAAM,CAACG,WAAlB,4BAAsD,oBAAC,IAAD,EAAM,EAAE,CAAI,SAAZ,CAAuB,KAAK,CAAE,CAACC,KAAK,CAAE,MAAR,CAA9B,mBAAtD,QAA8H,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,KAAK,CAAE,CAACA,KAAK,CAAE,MAAR,CAApB,sBAA9H,CADJ,CAFJ,CAPJ,CAcA,IAhBR,CADJ,CADJ,CAsBH,C,iBAnDa1B,S,EAsDlB,cAAeI,CAAAA,GAAf,CAEA,GAAMkB,CAAAA,MAAM,CAAG,CACXC,WAAW,CAAE,CACTI,KAAK,CAAE,MADE,CAETC,MAAM,CAAE,OAFC,CAGTC,OAAO,CAAE,MAHA,CAITC,eAAe,CAAE,0GAJR,CAKTC,kBAAkB,CAAE,QALX,CAMTC,cAAc,CAAE,OANP,CAOTC,gBAAgB,CAAE,WAPT,CAQTC,MAAM,CAAE,CARC,CADF,CAWXT,WAAW,CAAE,CACTU,QAAQ,CAAE,UADD,CAETR,KAAK,CAAE,GAFE,CAGTC,MAAM,CAAE,EAHC,CAITQ,IAAI,CAAE,KAJG,CAKTC,GAAG,CAAE,KALI,CAMTC,MAAM,CAAE,MANC,CAOZC,OAAO,CAAE,CAPG,CAQZC,YAAY,CAAE,CARF,CASZC,UAAU,CAAE,SATA,CAUZC,IAAI,CAAE,iBAVM,CAWThB,KAAK,CAAE,MAXE,CAYTiB,SAAS,CAAE,uBAZF,CAXF,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport NavBar from './NavBar'\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'\n\nclass App extends Component {\n\n    state = {\n        readyToRender: false,\n        logged: false\n    }\n\n    content = async () => {\n        await axios.get(\n            '/api/isAuth?email='+this.props.user.email\n        )\n        .then( (res) => {\n            if(res.data.message === true){\n                this.setState({readyToRender: true, logged: true})\n            }\n            else{\n                \n                this.setState({readyToRender: true})\n            }\n        })\n        .catch(error => {\n            this.setState({readyToRender: true})\n            console.log(error)\n        })\n    }\n\n    render()\n    {\n        this.content()\n        return(\n            <div>\n                <div style={styles.inscription}>\n                    { \n                        this.state.readyToRender ?\n                        this.state.logged ? \n                            <div>\n                                <NavBar logged={true} disconnect={this.props.disconnect} />\n                                <h1 style={styles.back_button}>You are logged in. </h1>\n                            </div>\n                            : \n                            <div>\n                                <NavBar logged={false} />\n                                <div style={styles.inscription}>\n                                    <h1 style={styles.back_button}>You are not logged in. <Link to = {'/signin'} style={{color: 'blue'}}>Please sign in</Link> or <Link to=\"/\" style={{color: 'blue'}}>create an account</Link></h1>\n                                </div>\n                            </div>\n                        : \n                        null\n                    }\n                </div>\n            </div>)\n    }\n}\n\nexport default App;\n\nconst styles = {\n    inscription: {\n        width: '100%',\n        height: '110vh',\n        display: 'flex',\n        backgroundImage: \"url(http://www.corentin-bechet.com/wp-content/uploads/2015/01/RESULTAT-PARTICLES-BACKGROUND-BLENDER.jpg)\",\n        backgroundPosition: 'center',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        zIndex: 1\n    },\n    back_button: {\n        position: 'absolute',\n        width: 300,\n        height: 50,\n        left: '50%',\n        top: '45%',\n        border: 'none',\n\t    padding: 6,\n\t    borderRadius: 8,\n\t    background: '#109177',\n\t    font: 'bold 13px Arial',\n        color: '#fff',\n        transform: \"translate(-50%, -50%)\"   \n    }\n}\n"]},"metadata":{},"sourceType":"module"}