{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import{Redirect,Link}from'react-router-dom';var FormSignIn=/*#__PURE__*/function(_Component){_inherits(FormSignIn,_Component);function FormSignIn(props){var _this;_classCallCheck(this,FormSignIn);_this=_possibleConstructorReturn(this,_getPrototypeOf(FormSignIn).call(this,props));_this.signIn=function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.state.error=[\"\",\"\"];if(_this.state.email===\"\"){_this.state.error[0]=\"Ce champ est vide.\";}if(_this.state.password===\"\"){_this.state.error[1]=\"Ce champ est vide.\";}_this.forceUpdate();if(!(_this.state.error[0]===\"\"&&_this.state.error[1]===\"\")){_context.next=9;break;}_context.next=7;return _regeneratorRuntime.awrap(axios.get('/api/signIn?email='+_this.state.email+'&password='+_this.state.password).then(function(res){console.log(res.data.message);if(res.data.message.name){_this.props.addUser(res.data.message);_this.setState({redirect:true});}else if(res.data.message===\"Already signed in\"){_this.state.error[0]=\"Vous êtes déjà connecté\";_this.forceUpdate();}else{_this.state.error[0]=\"Nous n'avons pas réussi à vous identifier avec les champs spécifiés\";_this.forceUpdate();}}));case 7:_context.next=10;break;case 9:console.log(\"Unable to sign up. Data is not correctly formatted.\");case 10:case\"end\":return _context.stop();}}});};_this.state={email:\"\",password:\"\",error:[\"\",\"\"],redirect:false};return _this;}_createClass(FormSignIn,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,this.state.redirect?React.createElement(Redirect,{to:\"/dashboard\"}):null,React.createElement(\"div\",{style:styles.formulaire},React.createElement(\"label\",{style:styles.legend},React.createElement(\"span\",{style:styles.number}),\" Informations de connexion\"),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"text\",placeholder:\"Email\",style:styles.textArea,value:this.state.email,onChange:function onChange(event){_this2.setState({email:event.target.value});}}),this.state.error[0]!==\"\"?React.createElement(\"div\",{style:{color:'red'}},this.state.error[0],React.createElement(\"br\",null)):React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"password\",placeholder:\"Mot de passe\",style:styles.textArea,value:this.state.password,onChange:function onChange(event){_this2.setState({password:event.target.value});}}),this.state.error[1]!==\"\"?React.createElement(\"div\",{style:{color:'red'}},this.state.error[1],React.createElement(\"br\",null)):React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"button\",{onClick:this.signIn,style:styles.submitButton},\"Envoyer\"),\"Pas de compte ? \",React.createElement(Link,{to:\"/\",style:{color:\"blue\"}},\"Creer en un tout de suite !\")));}}]);return FormSignIn;}(Component);export{FormSignIn as default};var styles={formulaire:{width:400,left:'50%',top:'50%',position:'absolute',zIndex:2,padding:20,backgroundColor:'#f4f7f8',margin:10,borderRadius:8,fontFamily:\"Georgia\",transform:\"translate(-50%, -50%)\"},number:{background:'#1abc9c',color:'#FFF',height:30,width:30,display:'inline-block',fontSize:18,lineHeight:1.2,textAlign:'center',textShadow:'rgba(255,255,255,0.2)',borderRadius:15},legend:{fontSize:20,color:'#1abc9c'},textArea:{fontFamily:\"Georgia\",background:\"rgba(255,255,255,.1)\",border:\"none\",borderRadius:4,fontSize:12,margin:0,outline:0,padding:10,width:'100%',boxSizing:'border-box',WebkitBoxSizing:'border-box',MozBoxSizing:'border-box',backgroundColor:'#e8eeef',color:'#8a97a0',WebkitBoxShadow:\"rgba(0,0,0,0.03)\",boxShadow:\"rgba(0,0,0,0.03)\",marginBottom:5},submitButton:{position:'relative',display:'block',padding:'19px 39px 18px 39px',color:'#FFF',margin:'auto',background:'#1abc9c',fontSize:18,textAlign:'center',fontStyle:'normal',width:'100%',border:'1px solid #16a085',borderWidth:'1px 1px 3px',marginBottom:10},cross:{position:'absolute',top:5,right:5,border:\"none\",backgroundColor:'#f4f7f8'}};","map":{"version":3,"sources":["/Users/Charles/Desktop/Cours/ING4/Web/LlobregatThomasMabbyalasCharlesDavidNodeDevOps/client/src/Components/FormSignIn.js"],"names":["React","Component","axios","Redirect","Link","FormSignIn","props","signIn","state","error","email","password","forceUpdate","get","then","res","console","log","data","message","name","addUser","setState","redirect","styles","formulaire","legend","number","textArea","event","target","value","color","submitButton","width","left","top","position","zIndex","padding","backgroundColor","margin","borderRadius","fontFamily","transform","background","height","display","fontSize","lineHeight","textAlign","textShadow","border","outline","boxSizing","WebkitBoxSizing","MozBoxSizing","WebkitBoxShadow","boxShadow","marginBottom","fontStyle","borderWidth","cross","right"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport { Redirect, Link} from 'react-router-dom'\n\nexport default class FormSignIn extends Component {\n\n    constructor(props){\n        super(props)\n\n        this.state = {\n            email: \"\",\n            password: \"\",\n            error: [\"\", \"\"],\n            redirect: false\n        }\n\n    }\n\n    signIn = async () => {\n\n        this.state.error = [\"\", \"\"]\n\n        if(this.state.email === \"\"){\n            this.state.error[0] = \"Ce champ est vide.\"\n        }\n        if(this.state.password === \"\"){\n            this.state.error[1] = \"Ce champ est vide.\"\n        }\n\n        this.forceUpdate()\n\n        if(this.state.error[0] === \"\" && this.state.error[1] === \"\" ){\n            await axios.get(\n                '/api/signIn?email='+this.state.email+'&password='+this.state.password,\n            )\n            .then( (res) => {\n                console.log(res.data.message)\n                if(res.data.message.name){\n                    this.props.addUser(res.data.message)\n                    this.setState({redirect: true})\n                }\n                else if(res.data.message === \"Already signed in\"){\n                    this.state.error[0] = \"Vous êtes déjà connecté\"\n                    this.forceUpdate()\n                }\n                else{\n                    this.state.error[0] = \"Nous n'avons pas réussi à vous identifier avec les champs spécifiés\"\n                    this.forceUpdate()\n                }\n            })\n        }else{\n            console.log(\"Unable to sign up. Data is not correctly formatted.\")\n        }\n\n    }\n\n    render()\n    {\n        return(\n            <div>\n                { this.state.redirect ? <Redirect to='/dashboard'/> : null}\n                <div style={styles.formulaire}>\n                    <label style={styles.legend}><span style={styles.number}></span> Informations de connexion</label>\n                    <br/>\n                    <br/>\n                    <input type=\"text\" placeholder=\"Email\" style={styles.textArea} value={this.state.email} onChange = {(event) => {this.setState({email: event.target.value})}}/>\n                    {this.state.error[0] !== \"\" ?  (<div style={{color: 'red'}}>{this.state.error[0]}<br /></div>) : (<br />)}\n                    <br/>\n                    <br/>\n                    <input type=\"password\" placeholder=\"Mot de passe\" style={styles.textArea} value={this.state.password} onChange = {(event) => {this.setState({password: event.target.value})}}/>\n                    {this.state.error[1] !== \"\" ?  (<div style={{color: 'red'}}>{this.state.error[1]}<br /></div>) : (<br />)}\n                    <br/>< br/>\n                    <button onClick={this.signIn} style={styles.submitButton}>Envoyer</button>\n                    Pas de compte ? <Link to = \"/\" style={{color: \"blue\"}} >Creer en un tout de suite !</Link>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst styles = {\n\n    formulaire: {\n        width: 400,\n        left: '50%',\n        top: '50%',\n        position: 'absolute',\n        zIndex: 2,\n    \tpadding: 20,\n    \tbackgroundColor: '#f4f7f8',\n    \tmargin: 10,\n    \tborderRadius: 8,\n    \tfontFamily: \"Georgia\",\n        transform: \"translate(-50%, -50%)\"\n    },\n\n    number:{\n        background: '#1abc9c',\n    \tcolor: '#FFF',\n    \theight: 30,\n    \twidth: 30,\n    \tdisplay: 'inline-block',\n    \tfontSize: 18,\n    \tlineHeight: 1.2,\n    \ttextAlign: 'center',\n    \ttextShadow: 'rgba(255,255,255,0.2)',\n    \tborderRadius: 15,\n    },\n\n    legend:{\n        fontSize: 20,\n        color: '#1abc9c',\n    },\n\n    textArea: {\n        fontFamily: \"Georgia\",\n    \tbackground: \"rgba(255,255,255,.1)\",\n    \tborder: \"none\",\n    \tborderRadius: 4,\n    \tfontSize: 12,\n    \tmargin: 0,\n    \toutline: 0,\n    \tpadding: 10,\n    \twidth: '100%',\n    \tboxSizing: 'border-box',\n    \tWebkitBoxSizing: 'border-box',\n    \tMozBoxSizing: 'border-box',\n    \tbackgroundColor: '#e8eeef',\n    \tcolor: '#8a97a0',\n    \tWebkitBoxShadow: \"rgba(0,0,0,0.03)\",\n        boxShadow: \"rgba(0,0,0,0.03)\",\n        marginBottom: 5\n    },\n\n    submitButton: {\n        position: 'relative',\n\t    display: 'block',\n\t    padding: '19px 39px 18px 39px',\n        color: '#FFF',\n        margin: 'auto',\n        background: '#1abc9c',\n        fontSize: 18,\n        textAlign: 'center',\n        fontStyle: 'normal',\n        width: '100%',\n        border: '1px solid #16a085',\n        borderWidth: '1px 1px 3px',\n        marginBottom: 10\n    },\n\n    cross: {\n        position: 'absolute',\n        top: 5,\n        right: 5,\n        border: \"none\",\n        backgroundColor: '#f4f7f8',\n    }\n\n    }\n"]},"metadata":{},"sourceType":"module"}